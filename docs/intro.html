<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Lowest level &mdash; pyspecProcScripts 0.9 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="_static/plot_directive.css" type="text/css" />
      <link rel="stylesheet" href="_static/sg_gallery.css" type="text/css" />
      <link rel="stylesheet" href="_static/sg_gallery-binder.css" type="text/css" />
      <link rel="stylesheet" href="_static/sg_gallery-dataframe.css" type="text/css" />
      <link rel="stylesheet" href="_static/sg_gallery-rendered-html.css" type="text/css" />
      <link rel="stylesheet" href="_static/gallery_custom.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="_static/doctools.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Phasing" href="first_level/phasing.html" />
    <link rel="prev" title="PySpecData ProcScripts" href="index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> pyspecProcScripts
          </a>
              <div class="version">
                0.9
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Lowest level</a></li>
<li class="toctree-l1"><a class="reference internal" href="#first-level-in-this-repo">First level in this repo</a><ul>
<li class="toctree-l2"><a class="reference internal" href="first_level/phasing.html">Phasing</a></li>
<li class="toctree-l2"><a class="reference internal" href="first_level/align.html">Alignment</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="#second-level-in-this-repo">Second level in this repo</a></li>
<li class="toctree-l1"><a class="reference internal" href="#top-level">Top level</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Example Gallery</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="auto_examples/index.html">ProcScripts Example Gallery</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">pyspecProcScripts</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a></li>
      <li class="breadcrumb-item active">Lowest level</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/intro.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <p>The processing is structured into multiple levels.</p>
<section id="lowest-level">
<h1>Lowest level<a class="headerlink" href="#lowest-level" title="Permalink to this heading">¶</a></h1>
<p>At the lowest level lives <a class="reference external" href="http://jmfrancklab.github.io/pyspecdata">pySpecData</a>, which
provides an object-oriented structure (nddata) for
storing all information about code (<em>e.g.</em> data, error,
axes, units, and names of dimensions) in a single
“container” (technically called an “object”), as well
as routines (“methods”) for manipulating that data
(doing things like Fourier transforming, taking sums,
etc. etc.).
pySpecData provides a fundamentally unique was of
dealing with spectroscopic data in Python
(it enables things like <code class="docutils literal notranslate"><span class="pre">d['t2':(0.1,0.5)]</span></code> to slice
out times from 0.1 to 0.5 s, automatic relabeling of
axes during a Fourier transform, and automatic
propagation of error, to name a few).
If there are more efficient ways of dealing with axes,
specifying data slices, dealing with Fourier <em>vs.</em>
time-domain data, these are all implemented at the
pySpecData level (which lives in a different repository
than the application scripts here).</p>
</section>
<section id="first-level-in-this-repo">
<h1>First level in this repo<a class="headerlink" href="#first-level-in-this-repo" title="Permalink to this heading">¶</a></h1>
<p>Currently, we have the following modules that provide
functions intended to be reused.  We will refer to
these as “first level” routines:</p>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="first_level/phasing.html">Phasing</a></li>
<li class="toctree-l1"><a class="reference internal" href="first_level/align.html">Alignment</a></li>
</ul>
</div>
</section>
<section id="second-level-in-this-repo">
<h1>Second level in this repo<a class="headerlink" href="#second-level-in-this-repo" title="Permalink to this heading">¶</a></h1>
<p>We are currently in the process of identifying the most
up to date code that does each of the following tasks,
and each will be separated into a function inside an
appropriate module, and added to the previous list.
At least parts of this should be relevant to most
data processing tasks involving ODNP or relaxometry.
We will refer to these as “second level”
routines, since they use the “first level” routines:</p>
<ul class="simple">
<li><p>load raw data, and put into appropriately shaped nddata (whether
Bruker or Spincore) → most up to date is in the processing code
associated with ODNP aquisition, which currently lives in
<code class="docutils literal notranslate"><span class="pre">run_Hahn_echo_mw.py</span></code> in <code class="docutils literal notranslate"><span class="pre">spincore_apps/SpinCore_pp</span></code></p></li>
<li><p>Convert short spin echoes into appropriately sliced and phased FIDs
→ most up to date in <code class="docutils literal notranslate"><span class="pre">proc_echo_mw.py</span></code></p></li>
<li><p>Integrate and phase the integrals → most up to date in <code class="docutils literal notranslate"><span class="pre">proc_IR.py</span></code></p></li>
<li><p>Fit the integrals with a relevant curve → Sam’s version of
<code class="docutils literal notranslate"><span class="pre">proc_echo_mw.py</span></code></p></li>
<li><p>Any potentially reusable code in the Q test code → <code class="docutils literal notranslate"><span class="pre">proc_square_refl.py</span></code></p></li>
</ul>
</section>
<section id="top-level">
<h1>Top level<a class="headerlink" href="#top-level" title="Permalink to this heading">¶</a></h1>
<p>Finally, we will construct higher-level functions, all
in a single module, that utilize these to</p>
<span class="target" id="module-toplevel"></span><p>(<em>e.g.</em>) process an ODNP dataset, process a <sup>2</sup>H
CPMG relaxometry dataset, <em>etc.</em></p>
<p>These are the <em>top level</em> routines, because they use
second-level routines.  For the sake of organization,
there are <strong>only three levels</strong> of functions,
and all the top level functions live in <code class="docutils literal notranslate"><span class="pre">toplevel.py</span></code>.
(The top level functions will replace the current
independent processing scripts).</p>
<p>The idea is that these <strong>only</strong> accept file names and
simple numbers and true-false values are arguments.
They should consist <strong>mostly or entirely</strong> of
second-level functions.
The idea is that you would call these either from a GUI
or from your notebook directory.</p>
<p>Scripts to be converted to top level functions:</p>
<ul class="simple">
<li><p>proc_CPMG.py</p></li>
<li><p>proc_echo_mw.py</p></li>
<li><p>proc_Hahn_echoph.py</p></li>
<li><p>proc_IR.py</p></li>
<li><p>proc_IR_noecho.py</p></li>
<li><p>proc_nutation.py</p></li>
<li><p>proc_square_refl.py</p></li>
</ul>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="index.html" class="btn btn-neutral float-left" title="PySpecData ProcScripts" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="first_level/phasing.html" class="btn btn-neutral float-right" title="Phasing" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021, John M. Franck group.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>